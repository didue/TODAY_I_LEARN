<!-- src/app/features/products/product-create/product-create.html -->
<h2>상품 등록</h2>

<form [formGroup]="form" (ngSubmit)="submit()">
  <label>
    상품명
    <input
      [value]="form.controls.name.value"
      (input)="onNameInput($event)"
      placeholder="예: Angular Hoodie"
    />
  </label>
  <div *ngIf="form.controls.name.touched && form.controls.name.invalid">
    <small *ngIf="form.controls.name.hasError('required')">필수 입력</small>
    <small *ngIf="form.controls.name.hasError('minlength')">2자 이상</small>
  </div>

  <label>
    가격
    <input
      type="number"
      [value]="form.controls.price.value ?? ''"
      (input)="onPriceInput($event)"
      placeholder="예: 59000"
    />
  </label>
  <div *ngIf="form.controls.price.touched && form.controls.price.invalid">
    <small *ngIf="form.controls.price.hasError('required')">필수 입력</small>
    <small *ngIf="form.controls.price.hasError('min')">0 이상</small>
  </div>

  <div class="error" *ngIf="errorMsg">{{ errorMsg }}</div>

  <button type="submit" [disabled]="submitting || form.invalid">
    {{ submitting ? '등록 중…' : '등록하기' }}
  </button>
</form>
