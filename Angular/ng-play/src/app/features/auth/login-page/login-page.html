<h2>로그인</h2>

<form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
  <!-- 이메일 -->
  <div class="field">
    <label for="email">Email</label>
    <input id="email" type="email" formControlName="email" placeholder="you@example.com" />

    @if (showError(emailCtrl)) {
    <ul class="error-list">
      @if (showError(emailCtrl, 'required')) {
      <li>이메일을 입력하세요.</li>
      } @if (showError(emailCtrl, 'email')) {
      <li>올바른 이메일 형식이 아닙니다.</li>
      }
    </ul>
    }

    <p class="hint">
      입력 중: <code>{{ email() }}</code>
    </p>
  </div>

  <!-- 비밀번호 -->
  <div class="field">
    <label for="pw">Password</label>
    <input id="pw" type="password" formControlName="password" placeholder="••••••" />

    @if (showError(pwCtrl)) {
    <ul class="error-list">
      @if (showError(pwCtrl, 'required')) {
      <li>비밀번호를 입력하세요.</li>
      } @if (showError(pwCtrl, 'minlength')) {
      <li>6자 이상 입력하세요.</li>
      }
    </ul>
    }

    <!-- 간단한 강도 표시 -->
    <div class="strength">
      <div class="bar" [class.on]="pwStrength() >= 1"></div>
      <div class="bar" [class.on]="pwStrength() >= 2"></div>
      <div class="bar" [class.on]="pwStrength() >= 3"></div>
      <div class="bar" [class.on]="pwStrength() >= 4"></div>
    </div>
    <small class="muted"> 강도: {{ pwStrength() }}/4 · 길이: {{ pwLength() }} </small>
  </div>

  <button type="submit" [disabled]="!canSubmit()">로그인</button>
</form>
